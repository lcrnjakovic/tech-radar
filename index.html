<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jQuery UI Droppable - Default functionality</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="css/style.css">

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $( function() {
            $( "#draggable" ).draggable();
            $( "#droppable" ).droppable({
                greedy: true,
                drop: function( event, ui ) {
                    var myX = ui.offset.left;
                    var myY = ui.offset.top;

                    var myR = $(this).outerWidth() / 2;
                    var myCX = $(this).offset().left + myR;
                    var myCY = $(this).offset().top + myR;

                    if (checkIntersection(myX, myY, myCX, myCY, myR))
                    {
                        $(this).addClass('ui-state-highlight');
                    }
                }
            });
            $( "#droppable2" ).droppable({
                greedy: true,
                drop: function( event, ui ) {
                    var myX = ui.offset.left;
                    var myY = ui.offset.top;

                    var myR = $(this).outerWidth() / 2;
                    var myCX = $(this).offset().left + myR;
                    var myCY = $(this).offset().top + myR;

                    if (checkIntersection(myX, myY, myCX, myCY, myR))
                    {
                        $(this).addClass('ui-state-highlight');
                    }
                }
            });
            $( "#droppable3" ).droppable({
                greedy: true,
                drop: function( event, ui ) {
                    var myX = ui.offset.left;
                    var myY = ui.offset.top;

                    var myR = $(this).outerWidth() / 2;
                    var myCX = $(this).offset().left + myR;
                    var myCY = $(this).offset().top + myR;

                    if (checkIntersection(myX, myY, myCX, myCY, myR))
                    {
                        $(this).addClass('ui-state-highlight');
                    }
                }
            });
            $( "#droppable4" ).droppable({
                drop: function( event, ui ) {
                    var myX = ui.offset.left;
                    var myY = ui.offset.top;

                    var myR = $(this).outerWidth() / 2;
                    var myCX = $(this).offset().left + myR;
                    var myCY = $(this).offset().top + myR;

                    if (checkIntersection(myX, myY, myCX, myCY, myR))
                    {
                        $(this).addClass('ui-state-highlight');
                    }
                }
            });
        } );
        function checkIntersection(aX, aY, aCX, aCY, aR) {
            return (Math.pow(aX - aCX, 2) + Math.pow(aY - aCY, 2) < Math.pow(aR, 2));
        }
    </script>
</head>
<body>

<div id="draggable" class="ui-widget-content">
    <p>x</p>
</div>




<div id="droppable4" class="ui-widget-header">
    <div id="droppable3" class="ui-widget-header">
        <div id="droppable2" class="ui-widget-header">
            <div id="droppable" class="ui-widget-header">

            </div>
        </div>
    </div>
</div>


</body>
</html>